# LinuC Lv1-102
## 108.3 重要なシステムサービス - `メール転送エージェント(MTA)の基本` ★★★☆☆
> 一般的に使用可能なMTAプログラムについて理解し、クライアントホストで転送とエイリアスの基本的な設定を行える.
---
### MTA (Mail Transfer Agent)
> **電子メールを配信/転送するプログラム**のことで, 一般的にメールサーバと呼ばれる.
- 各メールサーバ(MTA)の特徴
    | 名称 | 説明 |
    |:-----|:-----|
    | **sendmail** | **古くから使われる標準のMTA**. 最近はセキュリティ面や性能面から, 問題も有る. |
    | **qmail** | **sendmailとの互換性がなく**, 設定が簡単で, セキュリティとパフォーマンスもsendmailより優れている.  |
    | **postfix** | **sendmailとの互換性があり**, パフォーマンスが最も優れたMTA. 設定が簡単で, セキュリティ面も高い. |
    | **exim** | **Debian系の標準のMTA**. sendmailのように1つのプログラムから構成されるMTA. |

- sendmailのメールスプールとメールキュー
    | 名称 | ディレクトリ | 保存物 | 表示コマンド |
    |:-----|:------------|:------|:------------|
    | **メールスプール** | `/var/spool/mail/` | 受信メール | mail |
    | **メールキュー** | `/var/spool/mqueue/` | 送信待ちメール | mailq |

</br>

### メール送受信に関するコマンド
#### <span style="color: red; ">**`mail`**</span>コマンド - **受信メールを確認, 送信**
- 書式
    ```sh
    mail [-s 件名] [宛先メールアドレス もしくは ユーザ名]
    ```
    - **オプションなしで, メールスプール`/var/spool/mail/`に格納されている受信メールを表示**.

</br>

#### <span style="color: red; ">**`mailq`**</span>コマンド - **送信待ちキューの表示**
- 書式
    ```sh
    mailq
    ```

</br>

#### <span style="color: red; ">**`sendmail`**</span>コマンド - **メールを送信**
> **Postfix,Exam,Sendmailに対応**している.
- 書式
    ```sh
    sendmail [宛先アドレス]
    ```
    - **オプションなしで, 標準入力からのメールのデータを受け取る**.

</br>

### メール転送方法
#### <span style="color: red; ">**`/etc/aliases`**</span>ファイル(エイリアス)を設定
> **`/etc/aliases`ファイルを書き換えることで転送先に指定**することができる.
>- **設定を反映させるには`newaliases`コマンドを実行**して`sendmail`に認識させる.

</br>

#### <span style="color: red; ">**`~/.forward`**</span>ファイルを設定
> 一般ユーザが自身で**自分宛のメールを, 別のメールアドレスに転送したい時に設定**.
>- 各ユーザの**ホームディレクトリの`~/.forward`ファイルに転送先アドレスを設定**する.