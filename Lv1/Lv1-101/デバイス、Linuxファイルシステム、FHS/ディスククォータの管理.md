# LinuC Lv1-101
## デバイス, Linuxファイルシステム, FHS - `ディスククォータの管理`
---
### <span style="color: red; ">**`ディスククォータ`**</span>
- ユーザまたはグループ毎にディスク容量を制限する機能のこと.
- 手順
    >1. 「/etc/fstab」ファイルで、ディスククォータ機能を使用したい**ファイルシステムの設定**を行う.
    >2. **ファイルシステムをマウントしなおす**.
    >2. quotacheckコマンドでクォータの情報を格納する**ファイルを作成**・更新する
    >3. quotaonコマンドで**クォータを有効**にする.
    >4. edquotaコマンド、またはsetquotaコマンドでユーザまたはグループの**クォータを設定**.

### <span style="color: red; ">**`マウントオプションを指定`**</span>
- クォータ関連のマウントオプション
    | マウントオプション | 説明 |
    |:-----------------|:-----|
    | usrquota | ユーザ毎のディスククォータを設定 |
    | grpquota | グループ毎のディスククォータを設定 |

- ディスククォータの管理
    | マウントオプション | 説明 |
    |:-----------------|:-----|
    | **quotacheck** | **ファイルシステムのディスク使用量をチェック**し, クォータの情報を格納する**ファイルを作成・更新** |
    | quotaon | 「`/etc/fstab`」ファイルに記述したクォータの設定を有効化 |
    | quotaoff | クォータの設定を無効化 |
    | **edquota** | ディスククォータの容量の設定をテキストエディタで行う |
    | setquota | クォータの容量を設定 (コマンドラインから) |
    | **quota** | 指定したユーザやグループのディスククォータ状況を表示 |
    | **repquota** | 指定したファイルシステムのクォータ状況を表示 (rootユーザのみ) |

### <span style="color: red; ">**`quota`**</span>コマンド
- 指定した**ユーザやグループのディスククォータ状況を表示**する.
- 書式
    ```sh
    quota [オプション] ユーザまたはグループ名
    ```
- オプション
    | オプション | 説明 |
    |:----------|:-----|
    | -u | 指定したユーザのディスククォータを状況を表示 (省略可能) |
    | -g | 指定したグループのディスククォータを状況を表示 |

### <span style="color: red; ">**`quotacheck`**</span>コマンド
- 指定した**ディスク使用量をチェックし、データベースファイルを作成・更新**する.
- 書式
    ```sh
    quotacheck [オプション] デバイス名またはマウントポイント
    quotacheck -a [オプション]
    ```
- オプション
    | オプション | 説明 |
    |:----------|:-----|
    | -a | 「`/etc/mtab`」ファイルでクォータが設定されている全てのファイルシステムをチェック |
    | -u | ユーザクォータのデータベースファイルを作成・更新 (省略可能) |
    | -g | グループクォータのデータベースファイルを作成・更新 |


### <span style="color: red; ">**`edquota`**</span>コマンド
- ディスククォータの**容量の設定**.
- 書式
    ```sh
    edquota [オプション] ユーザまたはグループ名
    ```
- オプション
    | オプション | 説明 |
    |:----------|:-----|
    | -u | ユーザを指定 (省略可能) |
    | -g | グループを指定 |
    | -p | 指定したユーザクォータの設定をコピー |
    | -t | ファイルシステムごとに**猶予期間を設定** |

### <span style="color: red; ">**`repquota`**</span>コマンド
- 指定した**ファイルシステムのディスククォータ状況を表示**する.
- 書式
    ```sh
    repquota [オプション] デバイスまたはマウントポイント
    repquota -a [オプション]
    ```
- オプション
    | オプション | 説明 |
    |:----------|:-----|
    | -a | 「`/etc/mtab`」ファイルでクォータが設定されている全てのファイルシステムのクォータ状況を表示 |
    | -u | ユーザのディスククォータを状況を表示 (省略可能) |
    | -g | グループのディスククォータを状況を表示 |

### <span style="color: red; ">**`quotaon`**</span>コマンド
- ディスククォータの**設定を有効にする**.
- 書式
    ```sh
    quotaon [オプション] デバイス名またはマウントポイント
    quotaon -a [オプション]
    ```
- オプション
    | オプション | 説明 |
    |:----------|:-----|
    | -a | 「`/etc/fstab`」ファイルでクォータが設定されている全てのファイルシステムのディスククォータを有効化 |
    | -u | ユーザ毎のディスククォータを有効化 |
    | -g | グループ毎のディスククォータを有効化 |
    | -v | 詳細情報を表示 |

### <span style="color: red; ">**`quotaoff`**</span>コマンド
- ディスククォータの**設定を無効にする**.
- 書式
    ```sh
    quotaoff [オプション] デバイス名またはマウントポイント
    quotaoff -a [オプション]
    ```
- オプション
    | オプション | 説明 |
    |:----------|:-----|
    | -a | 「`/etc/fstab`」ファイルでクォータが設定されている全てのファイルシステムのディスククォータを無効化 |
    | -u | ユーザ毎のディスククォータを無効化 |
    | -g | グループ毎のディスククォータを無効化 |
    | -v | 詳細情報を表示 |